{"version":3,"file":"index-Cck_RH9g.js","sources":["../../../../node_modules/usehooks-ts/dist/esm/useElementSize/useElementSize.js","../../../../node_modules/usehooks-ts/dist/esm/useEventListener/useEventListener.js","../../../../node_modules/usehooks-ts/dist/esm/useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js","../../src/ui/components/Navigation/Pagination/style.ts","../../src/ui/components/Navigation/Pagination/index.tsx"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport { useEventListener, useIsomorphicLayoutEffect } from '..';\nfunction useElementSize() {\n    const [ref, setRef] = useState(null);\n    const [size, setSize] = useState({\n        width: 0,\n        height: 0,\n    });\n    const handleSize = useCallback(() => {\n        setSize({\n            width: (ref === null || ref === void 0 ? void 0 : ref.offsetWidth) || 0,\n            height: (ref === null || ref === void 0 ? void 0 : ref.offsetHeight) || 0,\n        });\n    }, [ref === null || ref === void 0 ? void 0 : ref.offsetHeight, ref === null || ref === void 0 ? void 0 : ref.offsetWidth]);\n    useEventListener('resize', handleSize);\n    useIsomorphicLayoutEffect(() => {\n        handleSize();\n    }, [ref === null || ref === void 0 ? void 0 : ref.offsetHeight, ref === null || ref === void 0 ? void 0 : ref.offsetWidth]);\n    return [setRef, size];\n}\nexport default useElementSize;\n","import { useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '..';\nfunction useEventListener(eventName, handler, element, options) {\n    const savedHandler = useRef(handler);\n    useIsomorphicLayoutEffect(() => {\n        savedHandler.current = handler;\n    }, [handler]);\n    useEffect(() => {\n        var _a;\n        const targetElement = (_a = element === null || element === void 0 ? void 0 : element.current) !== null && _a !== void 0 ? _a : window;\n        if (!(targetElement && targetElement.addEventListener))\n            return;\n        const listener = event => savedHandler.current(event);\n        targetElement.addEventListener(eventName, listener, options);\n        return () => {\n            targetElement.removeEventListener(eventName, listener, options);\n        };\n    }, [eventName, element, options]);\n}\nexport default useEventListener;\n","import { useEffect, useLayoutEffect } from 'react';\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { cva } from \"class-variance-authority\";\r\n\r\nexport const pagesClassNameVariant = cva(\r\n  [\r\n    \"flex\",\r\n    \"rounded-border-radius-pill\",\r\n    \"items-center\",\r\n    \"justify-center\",\r\n    \"bg-@surface-auxiliary\",\r\n    \"h-padding-l\",\r\n    \"w-padding-l\",\r\n    \"text-@surface-primary\",\r\n    \"cursor-pointer\",\r\n    \"sele\",\r\n    \"font-@medium\",\r\n    \"text-md\",\r\n  ],\r\n  {\r\n    variants: {\r\n      active: {\r\n        true: [\"bg-@surface-primary text-@text-white\"],\r\n      },\r\n      disabled: {\r\n        true: [\r\n          \"bg-@surface-disabled-light\",\r\n          \"text-@text-disabled-primary\",\r\n          \"cursor-not-allowed\",\r\n        ],\r\n      },\r\n    },\r\n  },\r\n);\r\n","import { PaginationProps } from \"antd\";\r\nimport { cn } from \"../../../lib/utils\";\r\nimport { Icon } from \"../../General\";\r\n\r\nimport { useElementSize } from \"usehooks-ts\";\r\nimport { useBreakpoint } from \"../../../hooks/useBreakpoint\";\r\nimport { Flex } from \"../../General/Flex\";\r\nimport { Text } from \"../../Typography\";\r\nimport { pagesClassNameVariant } from \"./style\";\r\n\r\nexport interface IPaginationProps extends PaginationProps {\r\n  currentTotal: number;\r\n}\r\n\r\nfunction Pagination({\r\n  className,\r\n  size,\r\n  onChange,\r\n  current = 1,\r\n  currentTotal,\r\n  ...rest\r\n}: IPaginationProps) {\r\n  const { sm } = useBreakpoint();\r\n\r\n  const [ref, { height }] = useElementSize();\r\n  const sizeLimit = height > 112;\r\n\r\n  const onChangePage = (page: number, pageSize: number) => {\r\n    onChange && onChange(page, pageSize);\r\n  };\r\n\r\n  const totalPages =\r\n    (rest.total && rest.pageSize && Math.ceil(rest.total / rest.pageSize)) || 1;\r\n\r\n  const pages =\r\n    Array.from({ length: totalPages }).map((_, index) => {\r\n      const pagesIndex = index + 1;\r\n      const active = current === pagesIndex;\r\n\r\n      return (\r\n        <li\r\n          key={index}\r\n          onClick={() => onChangePage(pagesIndex, rest?.pageSize || 0)}\r\n          className={cn(pagesClassNameVariant({ className, active }))}\r\n        >\r\n          {pagesIndex}\r\n        </li>\r\n      );\r\n    }) || [];\r\n\r\n  const pageNumbers = pages.slice(\r\n    current - 1,\r\n    current == 1 ? current + 4 : current + 3,\r\n  );\r\n\r\n  const pagesBefore = pages.slice(\r\n    current === totalPages && totalPages > 10\r\n      ? current - 4\r\n      : current == 2\r\n        ? current - 2\r\n        : current - 3,\r\n    current - 1,\r\n  );\r\n\r\n  const first = pagesBefore.length >= 2 && current > 3 ? pages[0] : null;\r\n\r\n  const last =\r\n    current < totalPages && totalPages > 2 ? pages[pages.length - 1] : null;\r\n\r\n  const currentPage = pages[current - 1];\r\n\r\n  const disabledAngleLeft = current === 1;\r\n  const disabledAngleRight = current === totalPages;\r\n\r\n  const LeftControl = (mobile?: boolean) => {\r\n    return (\r\n      <>\r\n        {(first || (mobile && current > 2)) && (\r\n          <li\r\n            onClick={() => onChangePage(1, rest.pageSize || 0)}\r\n            className={cn(pagesClassNameVariant({ className }))}\r\n          >\r\n            <Icon name=\"angles-left\" size=\"spacing-s\" fill=\"surface-primary\" />\r\n          </li>\r\n        )}\r\n        <li\r\n          onClick={() =>\r\n            !disabledAngleLeft && onChangePage(current - 1, rest.pageSize || 0)\r\n          }\r\n          className={cn(\r\n            pagesClassNameVariant({ className, disabled: disabledAngleLeft }),\r\n          )}\r\n        >\r\n          <Icon\r\n            name=\"angle-left\"\r\n            size=\"spacing-s\"\r\n            fill={\r\n              disabledAngleLeft ? \"text-disabled-primary\" : \"surface-primary\"\r\n            }\r\n          />\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const rightControl = (mobile?: boolean) => {\r\n    return (\r\n      <>\r\n        <li\r\n          onClick={() =>\r\n            !disabledAngleRight && onChangePage(current + 1, rest.pageSize || 0)\r\n          }\r\n          className={cn(\r\n            pagesClassNameVariant({ className, disabled: disabledAngleRight }),\r\n          )}\r\n        >\r\n          <Icon\r\n            name=\"angle-right\"\r\n            size=\"spacing-s\"\r\n            fill={\r\n              disabledAngleRight ? \"text-disabled-primary\" : \"surface-primary\"\r\n            }\r\n          />\r\n        </li>\r\n        {(last || (mobile && current < totalPages)) && (\r\n          <li\r\n            onClick={() => onChangePage(totalPages, rest.pageSize || 0)}\r\n            className={cn(pagesClassNameVariant({ className }))}\r\n          >\r\n            <Icon name=\"angles-right\" size=\"spacing-s\" fill=\"surface-primary\" />\r\n          </li>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderInfo = (mobile?: boolean) => {\r\n    return (\r\n      <Flex\r\n        gap=\"padding-s\"\r\n        justify={sizeLimit ? \"center\" : \"end\"}\r\n        className=\"leading-none   w-full \"\r\n      >\r\n        <Text as=\"span\" className=\"whitespace-nowrap\">\r\n          <Text className=\"text-@text-brand-primary leading-none\">\r\n            {rest.total}{\" \"}\r\n          </Text>\r\n          Selected items\r\n        </Text>\r\n\r\n        <Flex className=\"gap-1 text-@text-light flex-nowrap \">\r\n          <Text className=\"flex gap-1 leading-none whitespace-nowrap \">\r\n            Displaying:\r\n            <Text className=\"text-@text-brand-primary leading-none whitespace-nowrap\">\r\n              {\r\n                (currentTotal &&\r\n                  rest.pageSize &&\r\n                  (current - 1) * rest.pageSize + currentTotal) ||\r\n                  (rest.pageSize && current * rest?.pageSize)\r\n                //  || <span className=\"inline-block animate-pulse h-3 w-5 bg-@colors-neutrals-200 px-2  m-0\" />\r\n              }\r\n            </Text>\r\n            out of\r\n          </Text>\r\n          <Text className=\"text-@text-brand-primary whitespace-nowrap\">\r\n            {rest.total}\r\n          </Text>\r\n        </Flex>\r\n      </Flex>\r\n    );\r\n  };\r\n\r\n  if (!sm) {\r\n    return (\r\n      <Flex\r\n        ref={ref}\r\n        justify=\"between\"\r\n        vertical\r\n        className=\"w-full p-padding-xl bg-white  gap-5 \"\r\n      >\r\n        <ul className=\"flex gap-padding-xs p-0 m-0\">\r\n          {LeftControl(true)}\r\n          {currentPage}\r\n          {rightControl(true)}\r\n        </ul>\r\n        {renderInfo(true)}\r\n      </Flex>\r\n    );\r\n  }\r\n  return (\r\n    <Flex\r\n      ref={ref}\r\n      justify={sizeLimit ? \"center\" : \"between\"}\r\n      wrap=\"wrap\"\r\n      className=\"w-full p-padding-xl bg-white gap-5 \"\r\n    >\r\n      <ul className=\"flex gap-padding-xs p-0 m-0\">\r\n        {LeftControl()}\r\n        {pagesBefore}\r\n        {pageNumbers}\r\n        {rightControl()}\r\n      </ul>\r\n      <div>{renderInfo()}</div>\r\n    </Flex>\r\n  );\r\n}\r\n\r\nexport { Pagination };\r\n"],"names":["useElementSize","ref","setRef","useState","size","setSize","handleSize","useCallback","useEventListener","useIsomorphicLayoutEffect","eventName","handler","element","options","savedHandler","useRef","useEffect","_a","targetElement","listener","event","useLayoutEffect","pagesClassNameVariant","cva","Pagination","className","onChange","current","currentTotal","rest","sm","useBreakpoint","height","sizeLimit","onChangePage","page","pageSize","totalPages","pages","_","index","pagesIndex","jsx","cn","pageNumbers","pagesBefore","first","last","currentPage","disabledAngleLeft","disabledAngleRight","LeftControl","mobile","jsxs","Fragment","Icon","rightControl","renderInfo","Flex","Text"],"mappings":"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","x_google_ignoreList":[0,1,2]}