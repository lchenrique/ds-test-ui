import{e as I,j as h,c as P,a as M,g as W}from"./index-ecq6vdbC.js";import{r as s}from"./index-4g5l5LRQ.js";import{I as Se,g as Z,m as J,r as Q,p as Ce,e as L,u as ze,c as R,t as $e,z as Oe}from"./useSize-AW8DBSvq.js";import{R as Ne,P as Pe,b as we}from"./colors-eCm2DHWj.js";import{u as Ee,r as je,i as Ae,g as ke,P as Re,T as K}from"./index-hT9d0Ulg.js";import"./index-im-bjvvC.js";function Ie(){const[,t]=s.useReducer(e=>e+1,0);return t}function Be(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=s.useRef({}),r=Ie(),a=Ee();return Se(()=>{const n=a.subscribe(l=>{e.current=l,t&&r()});return()=>a.unsubscribe(n)},[]),e.current}const We=s.createContext({}),_=We,Te=t=>{const{antCls:e,componentCls:r,iconCls:a,avatarBg:n,avatarColor:l,containerSize:i,containerSizeLG:o,containerSizeSM:d,textFontSize:u,textFontSizeLG:m,textFontSizeSM:g,borderRadius:c,borderRadiusLG:v,borderRadiusSM:$,lineWidth:S,lineType:w}=t,O=(C,p,E)=>({width:C,height:C,lineHeight:`${C-S*2}px`,borderRadius:"50%",[`&${r}-square`]:{borderRadius:E},[`${r}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${r}-icon`]:{fontSize:p,[`> ${a}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},Q(t)),{position:"relative",display:"inline-block",overflow:"hidden",color:l,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:n,border:`${S}px ${w} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),O(i,u,c)),{"&-lg":Object.assign({},O(o,m,v)),"&-sm":Object.assign({},O(d,g,$)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ge=t=>{const{componentCls:e,groupBorderColor:r,groupOverlapping:a,groupSpace:n}=t;return{[`${e}-group`]:{display:"inline-flex",[`${e}`]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:a}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:n}}}},ee=Z("Avatar",t=>{const{colorTextLightSolid:e,colorTextPlaceholder:r}=t,a=J(t,{avatarBg:r,avatarColor:e});return[Te(a),Ge(a)]},t=>{const{controlHeight:e,controlHeightLG:r,controlHeightSM:a,fontSize:n,fontSizeLG:l,fontSizeXL:i,fontSizeHeading3:o,marginXS:d,marginXXS:u,colorBorderBg:m}=t;return{containerSize:e,containerSizeLG:r,containerSizeSM:a,textFontSize:Math.round((l+i)/2),textFontSizeLG:o,textFontSizeSM:n,groupSpace:u,groupOverlapping:-d,groupBorderColor:m}});var Le=function(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)e.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(r[a[n]]=t[a[n]]);return r};const Fe=(t,e)=>{const[r,a]=s.useState(1),[n,l]=s.useState(!1),[i,o]=s.useState(!0),d=s.useRef(null),u=s.useRef(null),m=Ce(e,d),{getPrefixCls:g,avatar:c}=s.useContext(L),v=s.useContext(_),$=()=>{if(!u.current||!d.current)return;const x=u.current.offsetWidth,f=d.current.offsetWidth;if(x!==0&&f!==0){const{gap:y=4}=t;y*2<f&&a(f-y*2<x?(f-y*2)/x:1)}};s.useEffect(()=>{l(!0)},[]),s.useEffect(()=>{o(!0),a(1)},[t.src]),s.useEffect($,[t.gap]);const S=()=>{const{onError:x}=t;(x==null?void 0:x())!==!1&&o(!1)},{prefixCls:w,shape:O,size:C,src:p,srcSet:E,icon:z,className:k,rootClassName:ce,alt:de,draggable:ue,children:F,crossOrigin:me}=t,B=Le(t,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),b=ze(x=>{var f,y;return(y=(f=C??(v==null?void 0:v.size))!==null&&f!==void 0?f:x)!==null&&y!==void 0?y:"default"}),ge=Object.keys(typeof b=="object"?b||{}:{}).some(x=>["xs","sm","md","lg","xl","xxl"].includes(x)),q=Be(ge),fe=s.useMemo(()=>{if(typeof b!="object")return{};const x=je.find(y=>q[y]),f=b[x];return f?{width:f,height:f,lineHeight:`${f}px`,fontSize:f&&(z||F)?f/2:18}:{}},[q,b]),N=g("avatar",w),[ve,xe]=ee(N),he=R({[`${N}-lg`]:b==="large",[`${N}-sm`]:b==="small"}),U=s.isValidElement(p),be=O||(v==null?void 0:v.shape)||"circle",pe=R(N,he,c==null?void 0:c.className,`${N}-${be}`,{[`${N}-image`]:U||p&&i,[`${N}-icon`]:!!z},k,ce,xe),ye=typeof b=="number"?{width:b,height:b,lineHeight:`${b}px`,fontSize:z?b/2:18}:{};let A;if(typeof p=="string"&&i)A=s.createElement("img",{src:p,draggable:ue,srcSet:E,onError:S,alt:de,crossOrigin:me});else if(U)A=p;else if(z)A=z;else if(n||r!==1){const x=`scale(${r}) translateX(-50%)`,f={msTransform:x,WebkitTransform:x,transform:x},y=typeof b=="number"?{lineHeight:`${b}px`}:{};A=s.createElement(Ne,{onResize:$},s.createElement("span",{className:`${N}-string`,ref:u,style:Object.assign(Object.assign({},y),f)},F))}else A=s.createElement("span",{className:`${N}-string`,style:{opacity:0},ref:u},F);return delete B.onError,delete B.gap,ve(s.createElement("span",Object.assign({},B,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ye),fe),c==null?void 0:c.style),B.style),className:pe,ref:m}),A))},Me=s.forwardRef(Fe),te=Me,T=t=>t?typeof t=="function"?t():t:null,_e=t=>{const{componentCls:e,popoverColor:r,titleMinWidth:a,fontWeightStrong:n,popoverPadding:l,boxShadowSecondary:i,colorTextHeading:o,borderRadiusLG:d,zIndexPopup:u,marginXS:m,colorBgElevated:g,popoverBg:c}=t;return[{[e]:Object.assign(Object.assign({},Q(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":g,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:c,backgroundClip:"padding-box",borderRadius:d,boxShadow:i,padding:l},[`${e}-title`]:{minWidth:a,marginBottom:m,color:o,fontWeight:n},[`${e}-inner-content`]:{color:r}})},ke(t,{colorBg:"var(--antd-arrow-background-color)"}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},He=t=>{const{componentCls:e}=t;return{[e]:Pe.map(r=>{const a=t[`${r}6`];return{[`&${e}-${r}`]:{"--antd-arrow-background-color":a,[`${e}-inner`]:{backgroundColor:a},[`${e}-arrow`]:{background:"transparent"}}}})}},Ve=t=>{const{componentCls:e,lineWidth:r,lineType:a,colorSplit:n,paddingSM:l,controlHeight:i,fontSize:o,lineHeight:d,padding:u}=t,m=i-Math.round(o*d),g=m/2,c=m/2-r,v=u;return{[e]:{[`${e}-inner`]:{padding:0},[`${e}-title`]:{margin:0,padding:`${g}px ${v}px ${c}px`,borderBottom:`${r}px ${a} ${n}`},[`${e}-inner-content`]:{padding:`${l}px ${v}px`}}}},ae=Z("Popover",t=>{const{colorBgElevated:e,colorText:r,wireframe:a}=t,n=J(t,{popoverPadding:12,popoverBg:e,popoverColor:r});return[_e(n),He(n),a&&Ve(n),Ae(n,"zoom-big")]},t=>({width:177,minWidth:177,titleMinWidth:177,zIndexPopup:t.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var De=function(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)e.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(r[a[n]]=t[a[n]]);return r};const qe=(t,e,r)=>{if(!(!e&&!r))return s.createElement(s.Fragment,null,e&&s.createElement("div",{className:`${t}-title`},T(e)),s.createElement("div",{className:`${t}-inner-content`},T(r)))},Ue=t=>{const{hashId:e,prefixCls:r,className:a,style:n,placement:l="top",title:i,content:o,children:d}=t;return s.createElement("div",{className:R(e,r,`${r}-pure`,`${r}-placement-${l}`,a),style:n},s.createElement("div",{className:`${r}-arrow`}),s.createElement(Re,Object.assign({},t,{className:e,prefixCls:r}),d||qe(r,i,o)))},Xe=t=>{const{prefixCls:e}=t,r=De(t,["prefixCls"]),{getPrefixCls:a}=s.useContext(L),n=a("popover",e),[l,i]=ae(n);return l(s.createElement(Ue,Object.assign({},r,{prefixCls:n,hashId:i})))},Ye=Xe;var Ze=function(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)e.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(r[a[n]]=t[a[n]]);return r};const Je=t=>{let{title:e,content:r,prefixCls:a}=t;return s.createElement(s.Fragment,null,e&&s.createElement("div",{className:`${a}-title`},T(e)),s.createElement("div",{className:`${a}-inner-content`},T(r)))},re=s.forwardRef((t,e)=>{const{prefixCls:r,title:a,content:n,overlayClassName:l,placement:i="top",trigger:o="hover",mouseEnterDelay:d=.1,mouseLeaveDelay:u=.1,overlayStyle:m={}}=t,g=Ze(t,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:c}=s.useContext(L),v=c("popover",r),[$,S]=ae(v),w=c(),O=R(l,S);return $(s.createElement(K,Object.assign({placement:i,trigger:o,mouseEnterDelay:d,mouseLeaveDelay:u,overlayStyle:m},g,{prefixCls:v,overlayClassName:O,ref:e,overlay:a||n?s.createElement(Je,{prefixCls:v,title:a,content:n}):null,transitionName:we(w,"zoom-big",g.transitionName),"data-popover-inject":!0})))});re._InternalPanelDoNotUseOrYouWillBeFired=Ye;const Qe=re,X=t=>{const{size:e,shape:r}=s.useContext(_),a=s.useMemo(()=>({size:t.size||e,shape:t.shape||r}),[t.size,t.shape,e,r]);return s.createElement(_.Provider,{value:a},t.children)},Ke=t=>{const{getPrefixCls:e,direction:r}=s.useContext(L),{prefixCls:a,className:n,rootClassName:l,style:i,maxCount:o,maxStyle:d,size:u,shape:m,maxPopoverPlacement:g="top",maxPopoverTrigger:c="hover",children:v}=t,$=e("avatar",a),S=`${$}-group`,[w,O]=ee($),C=R(S,{[`${S}-rtl`]:r==="rtl"},n,l,O),p=$e(v).map((z,k)=>Oe(z,{key:`avatar-key-${k}`})),E=p.length;if(o&&o<E){const z=p.slice(0,o),k=p.slice(o,E);return z.push(s.createElement(Qe,{key:"avatar-popover-key",content:k,trigger:c,placement:g,overlayClassName:`${S}-popover`},s.createElement(te,{style:d},`+${E-o}`))),w(s.createElement(X,{shape:m,size:u},s.createElement("div",{className:C,style:i},z)))}return w(s.createElement(X,{shape:m,size:u},s.createElement("div",{className:C,style:i},p)))},et=Ke,ne=te;ne.Group=et;const tt=ne,at={shape:{circle:"rounded-full",square:"rounded-md"},size:{default:"ado-avatar-size-md",small:"ado-avatar-size-sm",xSmall:"ado-avatar-size-xs",large:"ado-avatar-size-lg",xLarge:"ado-avatar-size-xlg"},disabled:{true:"grayscale brightness-90"}},rt={text:{default:"text-base",small:"text-sm",xSmall:"text-xs",large:"text-xl",xLarge:"text-xl"},disabled:{true:"text-@text-disabled-secondary"}},nt={size:{default:"ado-avatar-size-md",small:"ado-avatar-size-sm",xSmall:"ado-avatar-size-xs",large:"ado-avatar-size-lg",xLarge:"ado-avatar-size-xlg"},shape:{circle:"rounded-full",square:"rounded-md"}},st={left:"flex-row-reverse",right:"flex-row"},ot={left:"items-end",right:"items-start"},lt=I("text-@text-light font-@medium",{variants:rt,defaultVariants:{text:"default"}}),it="ado-avatar object-cover",Y=I(it,{variants:at,defaultVariants:{size:"default"}}),ct=I("relative block  text-center",{variants:nt,defaultVariants:{size:"default"}}),G=t=>{var u,m;const{className:e,children:r,...a}=t,{name:n,size:l,disabled:i}=D(),o=(u=String(n))==null?void 0:u.split(" ")[0],d=(m=String(n))==null?void 0:m.split(" ")[1];return h("div",{...a,id:"ado-avatar-fallback","data-size":l||"default",className:P(lt({text:l,disabled:i}),"uppercase",e),children:t.children||`${o==null?void 0:o.charAt(0)}${d?d.charAt(0):""}`})};G.displayName="Avatar.FallBack";const se=s.createContext({}),oe=({size:t,...e})=>h(se.Provider,{value:e,children:h(tt.Group,{...e,className:"flex items-center",maxStyle:{cursor:"pointer",borderWidth:2,display:"flex",alignItems:"center",justifyContent:"center",width:28,height:28,...e==null?void 0:e.maxStyle},children:e.children})});oe.displayName="Avatar.Group";function dt(){return s.useContext(se)}const le=t=>h("img",{...t,src:t.src,className:P("object-cover",t.className)});le.displayName="Avatar.Image";const ut={text:{default:"text-md",small:"text-sm",xSmall:"text-xs",large:"text-md",xLarge:"text-lg"},disabled:{true:"text-@text-disabled-secondary"}},mt=I("text-@text-plain dark:text-variation-@text-light--400 m-0 whitespace-nowrap",{variants:ut,defaultVariants:{text:"default"}}),H=t=>{const{size:e,disabled:r}=D();return h("h3",{...t,id:"ado-avatar-name",className:P(mt({text:e,disabled:r,className:t.className})),children:t.children})};H.displayName="Avatar.Name";const gt={text:{default:"text-sm",small:"text-sm",xSmall:"text-xs",large:"text-base",xLarge:"text-md"},disabled:{true:"text-@text-disabled-secondary"}},ft=I("text-variation-@text-light--700  m-0",{variants:gt,defaultVariants:{text:"default"}}),V=t=>{const{size:e,disabled:r}=D();return h("p",{...t,id:"ado-avatar-sub",className:P(ft({text:e,disabled:r}),t.className),children:t.children})};V.displayName="Avatar.Sub";const ie=s.createContext({}),j=({showInfo:t=!0,...e})=>{const{children:r}=dt(),a=()=>{var g,c;return(c=(g=W(e.children,"Avatar.Image"))==null?void 0:g.props)==null?void 0:c.src},n=()=>W(e.children,"Avatar.Name"),l=()=>{var g,c;return W(e.children,"Avatar.FallBack")||n()&&h(G,{children:(c=(g=n())==null?void 0:g.props.children[0])==null?void 0:c.toUpperCase()})},i=()=>W(e.children,"Avatar.Sub"),o=e.placement&&st[e.placement],d=e.placement&&ot[e.placement],u=P("flex justify-start items-center gap-2 overflow-hidden",o,e.disabled?"cursor-not-allowed":""),m=(e==null?void 0:e.src)||a();return h("div",{children:h(ie.Provider,{value:e,children:M("span",{className:u,children:[h(K,{...e.tooltip,children:M("div",{className:P(ct({size:e.size,shape:e.shape||"square"})),children:[e.loading&&h("div",{className:"loader animate-rotate z-50 m-1"}),h("div",{className:P(Y({shape:e.shape||"square",size:e.size,disabled:e.disabled}),"text-@icon-neutral, p-0",r?"border-[2px] border-solid absolute z-[0]":"",e.className),style:e==null?void 0:e.style,children:m?h("img",{"data-id":"ado-avatar",className:P(Y({shape:e.shape||"square",size:e.size,disabled:e.disabled}),"text-@icon-neutral, p-0",r?"border-[2px] border-solid absolute z-[0]":"",e.className),src:m,"data-size":e.size||"default"}):l()||h(G,{children:e==null?void 0:e.fallback})})]})}),!r&&(n()||i()||e.name||e.sub)&&t&&M("div",{id:"info",className:P("flex flex-col justify-center items-start",d,e.disabled?"cursor-not-allowed":""),children:[n()||h(H,{children:e.name}),i()||e.sub&&h(V,{children:e.sub})]})]})})})};j.Fallback=G;j.Image=le;j.Name=H;j.Sub=V;j.Group=oe;j.id="ado-avatar";j.displayName="Avatar";function D(){return s.useContext(ie)}export{j as A};
//# sourceMappingURL=index-PF0Qypw1.js.map
